---
import Layout from '../layouts/Layout.astro';
import MiniAppCard from '../components/MiniAppCard.astro';
import { Sparkles, Home, BarChart2, Smartphone, FileText } from 'lucide-react';

const miniApps = [
  {
    id: 'realestate_ads',
    title: 'Real Estate Ad Generator',
    description: 'Generate compelling real estate advertisements from listing URLs. Automatically extracts features and writes professional copy.',
    icon: Home,
    status: 'ready',
    tags: ['marketing', 'real-estate']
  },
  {
    id: 'market_research',
    title: 'Market Research Assistant',
    description: 'Deep dive research on companies, products, or trends. Aggregates data from multiple sources and provides a comprehensive report.',
    icon: BarChart2,
    status: 'ready',
    tags: ['research', 'analysis']
  },
  {
    id: 'social_posts',
    title: 'Social Media Content',
    description: 'Create engaging social media posts for various platforms based on your content or ideas.',
    icon: Smartphone,
    status: 'coming_soon',
    tags: ['social', 'marketing']
  },
  {
    id: 'document_summary',
    title: 'Document Summarizer',
    description: 'Upload complex documents and get concise, actionable summaries and key takeaways.',
    icon: FileText,
    status: 'coming_soon',
    tags: ['productivity', 'text']
  }
] as const;
---

<Layout title="Dashboard">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-foreground mb-2 flex items-center gap-2">
      Dashboard
    </h1>
    <p class="text-muted-foreground">
      Select a mini app to launch your AI workflow.
    </p>
  </div>

  <!-- Featured / Quick Start Section -->
  <div class="mb-10 bg-gradient-to-r from-primary to-blue-600 rounded-2xl p-8 text-primary-foreground shadow-lg relative overflow-hidden">
    <div class="relative z-10 max-w-2xl">
      <div class="flex items-center gap-2 mb-4 text-primary-foreground/80 font-medium">
        <Sparkles className="w-5 h-5" />
        <span>Recommended for you</span>
      </div>
      <h2 class="text-3xl font-bold mb-4">Generate Real Estate Ads in Seconds</h2>
      <p class="text-primary-foreground/90 mb-6 text-lg">
        Turn any property listing URL into a professional, SEO-optimized advertisement ready for publishing.
      </p>
      <a 
        href="/miniapps/realestate_ads" 
        class="inline-flex items-center justify-center px-6 py-3 bg-background text-foreground font-semibold rounded-lg hover:bg-secondary transition-colors"
      >
        Try it now
      </a>
    </div>
    
    <!-- Decorative circles -->
    <div class="absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-20 -mb-20 w-60 h-60 bg-indigo-500/30 rounded-full blur-2xl"></div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {miniApps.map((app) => (
      <MiniAppCard {...app} />
    ))}
  </div>

  <script>
    import { gsap } from "gsap";
    
    document.addEventListener('astro:page-load', () => {
      gsap.to(".mini-app-card", {
        opacity: 1,
        y: 0,
        duration: 0.5,
        stagger: 0.1,
        ease: "power2.out"
      });
    });
    
    // Fallback for initial load if view transitions aren't used
    if (document.readyState === 'complete') {
        gsap.to(".mini-app-card", {
        opacity: 1,
        y: 0,
        duration: 0.5,
        stagger: 0.1,
        ease: "power2.out"
      });
    } else {
        window.addEventListener('load', () => {
            gsap.to(".mini-app-card", {
            opacity: 1,
            y: 0,
            duration: 0.5,
            stagger: 0.1,
            ease: "power2.out"
          });
        });
    }
  </script>
</Layout>
